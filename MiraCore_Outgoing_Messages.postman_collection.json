{
  "info": {
    "name": "MiraCore Outgoing Messages",
    "description": "Postman collection for all supported outgoing message types from ZE DONE to ESS_UTUMISHI, with dynamic signature generation.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "FSPCode",
      "value": "FL8090",
      "type": "string"
    },
    {
      "key": "MsgId",
      "value": "TEST_{{}}",
      "type": "string"
    },
    {
      "key": "ApplicationNumber",
      "value": "ESS1763982075940",
      "type": "string"
    },
    {
      "key": "LoanNumber",
      "value": "LOAN1763993570520861",
      "type": "string"
    },
    {
      "key": "FSPReferenceNumber",
      "value": "FSP_TEST",
      "type": "string"
    },
    {
      "key": "signature",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "RESPONSE",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>RESPONSE</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "ACCOUNT_VALIDATION_RESPONSE",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>ACCOUNT_VALIDATION_RESPONSE</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "DEFAULTER_DETAILS_TO_EMPLOYER",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>DEFAULTER_DETAILS_TO_EMPLOYER</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "FSP_BRANCHES",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>FSP_BRANCHES</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "FULL_LOAN_REPAYMENT_NOTIFICATION",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>FULL_LOAN_REPAYMENT_NOTIFICATION</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "FULL_LOAN_REPAYMENT_REQUEST",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>FULL_LOAN_REPAYMENT_REQUEST</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "LOAN_CHARGES_RESPONSE",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>LOAN_CHARGES_RESPONSE</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "LOAN_DISBURSEMENT_FAILURE_NOTIFICATION",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>LOAN_DISBURSEMENT_FAILURE_NOTIFICATION</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "LOAN_DISBURSEMENT_NOTIFICATION",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>LOAN_DISBURSEMENT_NOTIFICATION</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "LOAN_INITIAL_APPROVAL_NOTIFICATION",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>LOAN_INITIAL_APPROVAL_NOTIFICATION</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "LOAN_LIQUIDATION_NOTIFICATION",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>LOAN_LIQUIDATION_NOTIFICATION</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "LOAN_RESTRUCTURE_AFFORDABILITY_RESPONSE",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>LOAN_RESTRUCTURE_AFFORDABILITY_RESPONSE</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "LOAN_RESTRUCTURE_BALANCE_REQUEST",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>LOAN_RESTRUCTURE_BALANCE_REQUEST</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "LOAN_RESTRUCTURE_BALANCE_RESPONSE",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>LOAN_RESTRUCTURE_BALANCE_RESPONSE</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "LOAN_RESTRUCTURE_REQUEST_FSP",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>LOAN_RESTRUCTURE_REQUEST_FSP</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "LOAN_STATUS_REQUEST",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>LOAN_STATUS_REQUEST</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "LOAN_TAKEOVER_BALANCE_RESPONSE",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>LOAN_TAKEOVER_BALANCE_RESPONSE</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "LOAN_TOP_UP_BALANCE_RESPONSE",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>LOAN_TOP_UP_BALANCE_RESPONSE</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "PARTIAL_LOAN_REPAYMENT_NOTIFICATION",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>PARTIAL_LOAN_REPAYMENT_NOTIFICATION</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "PARTIAL_REPAYMENT_OFF_BALANCE_RESPONSE",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>PARTIAL_REPAYMENT_OFF_BALANCE_RESPONSE</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "PAYMENT_ACKNOWLEDGMENT_NOTIFICATION",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>PAYMENT_ACKNOWLEDGMENT_NOTIFICATION</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "PRODUCT_DECOMMISSION",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>PRODUCT_DECOMMISSION</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "PRODUCT_DETAIL",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>PRODUCT_DETAIL</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    },
    {
      "name": "TAKEOVER_DISBURSEMENT_NOTIFICATION",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<Document>\n  <Data>\n    <Header>\n      <Sender>ZE DONE</Sender>\n      <Receiver>ESS_UTUMISHI</Receiver>\n      <FSPCode>{{FSPCode}}</FSPCode>\n      <MsgId>{{MsgId}}</MsgId>\n      <MessageType>TAKEOVER_DISBURSEMENT_NOTIFICATION</MessageType>\n    </Header>\n    <MessageDetails>\n      <ApplicationNumber>{{ApplicationNumber}}</ApplicationNumber>\n      <LoanNumber>{{LoanNumber}}</LoanNumber>\n      <FSPReferenceNumber>{{FSPReferenceNumber}}</FSPReferenceNumber>\n    </MessageDetails>\n  </Data>\n  <Signature>{{signature}}</Signature>\n</Document>"
        },
        "url": {
          "raw": "http://154.118.230.140:9802/ess-loans/mvtyztwq/consume",
          "protocol": "http",
          "host": [
            "154.118.230.140"
          ],
          "port": "9802",
          "path": [
            "ess-loans",
            "mvtyztwq",
            "consume"
          ]
        }
      },
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "const xmlPayload = pm.request.body.raw.replace('<Signature>{{signature}}</Signature>', '');",
              "",
              "pm.sendRequest({",
              "    url: 'http://localhost:3002/api/sign',",
              "    method: 'POST',",
              "    header: { 'Content-Type': 'application/xml' },",
              "    body: { mode: 'raw', raw: xmlPayload }",
              "}, function (err, res) {",
              "    if (!err && res.code === 200) {",
              "        // Extract signature using string manipulation",
              "        const xmlResponse = res.text();",
              "        const signatureStart = xmlResponse.indexOf('<Signature>') + '<Signature>'.length;",
              "        const signatureEnd = xmlResponse.indexOf('</Signature>');",
              "        if (signatureStart !== -1 && signatureEnd !== -1) {",
              "            const signature = xmlResponse.substring(signatureStart, signatureEnd).trim();",
              "            pm.variables.set('signature', signature);",
              "            console.log('Signature extracted: ' + signature.length + ' characters');",
              "        } else {",
              "            pm.variables.set('signature', 'SIGNATURE_NOT_FOUND');",
              "        }",
              "    } else {",
              "        pm.variables.set('signature', 'SIGNATURE_ERROR');",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    }
  ]
}